<!DOCTYPE html>
<div id='tableContainer'>
<head>
<title>HTML Table Header</title>
</head>

<!-- <table border="1">
<tr>
<th>Name</th>
<th>Salary</th>
</tr>
<tr>
<td>Ramesh Raman</td>
<td>5000</td>
</tr>
<tr>
<td>Shabbir Hussein</td>
<td>7000</td>
</tr>
</table> -->

	
</div>
	<script type="text/javascript">
		//1)What is the value of “index” when it is returned by this function?  Explain your answer.

			function jsTest() {
			    
			    var index = 0;
			    var counter = 0;
			    var obj = {};
			    
			    obj.index = index;
			    
			    var func = function () {
			        for (index = 0; index < 10; index++) {
			            counter += 2;
			        }
			        obj.index++;  
			    };
			    
			    obj.func = func;
			    this.index++;
			    obj.index++;

			    
			    return index;
			}

			// Answer - 0. Index is never increased because the function was never called. This.index refers to a window object which is undefined and when increased becomes NaN. Obj.index is not a pointer -- does not refer to the same variable. 


			// 2)Implement an efficient algorithm to find values in a sorted list.  E.g., if I have a large list of integers and want to find the value 345, the algorithm should return either the index of the value in the list, or -1 if it is not present.
			function binarySearch(array, target) {
				var start = 0,
					max = array.length -1,
					index,
					element;
				while(start <= max) {
					index = Math.floor((start + max) /2);
					element = array[index];
					if(element < target) {
						start = index+1;
					} else if (element > target) {
						max = index-1;
					} else {
						return index;
					}
				}

				return -1;
			}
 

			//3)Implement a Set data structure, including an “add” and “intersect” method.
			function Set() {

				this.contents = [];

				for(var i=0; i < arguments.length; i++) {
					this.contents.push(arguments[i]);
				}
				this.contents.sort((a,b) => a>b);
			
					
				this.add = function() {
					for(var i=0; i<arguments.length;i++) {
						if(this.contents.indexOf(arguments[i]) < 0) {
							this.contents.push(arguments[i]);
						}
					
					}
					this.contents.sort((a,b) => a>b);
				}

				this.intersect = function(set) {
					var intersection = [];
					
					this.contents.forEach(function(e) {
						if(set.contents.indexOf(e) >= 0)
							intersection.push(e);
					});

					return intersection.filter((v,i) => intersection.indexOf(v) === i);
				}
			}


			 // 4)Given the function below, complete the implementation to display the data in a table on an HTML page.What are the performance implications for your solution in the browser DOM?
			// function jsonTable() { 

			function jsonTable() {
				var data = {
					headers: ["First Name", "Last Name", "Age"],
					rows:[["John", "Doe", 30],["Jane", "Doe", 27], ["Mac", "Smith", 52]]
				};

				var container = document.getElementById("tableContainer");
    			//add code here to build a table in the container

				var myTable = '<table border=1><thead><tr>';
				data.headers.forEach(function(header) {
					myTable += '<th>' + header + '</th>';
				});
				myTable += '</tr></thead>';
				myTable += '<tbody>'
				data.rows.forEach(function(row) {
					myTable += '<tr>'
					row.forEach(function(cell) {
						myTable += '<td>' + cell + '</td>';
					});
					myTable += '</tr>'
				});
				
				myTable += '</tbody></table>';

				container.innerHTML = myTable;

				console.log(container);
			}





			

			//5) Set the value of parent div to that of the text of the fourth column of row when any row is clicked in table;


	</script>
</html>